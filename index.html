<!doctype html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
  <title>Tabuleiro Imersivo - Educa√ß√£o Sexual</title>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
  <style>
        /* [Seu CSS COMPLETO DEVE SER INSERIDO AQUI. Para fins de teste, use o CSS da resposta anterior.] */
        body {
            /* ... estilos ... */
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: transparent;
            min-height: 100%;
            color: #333;
            overflow-x: auto;
            position: relative;
        }

        /* Remova o resto do CSS se ele j√° estiver salvo, ou mantenha-o aqui se preferir um arquivo √∫nico. */
        /* Para esta solu√ß√£o, vou assumir que o CSS est√° completo e funcional, apenas focando no HTML/JS. */
        
        /* Estilos da Splash Screen */
        #splashScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s ease;
        }

        #introVideo {
            max-width: 80%;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        #startButton {
            padding: 15px 30px;
            font-size: 1.2rem;
            background: #4CAF50;
            border: none;
            color: white;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        #muteButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255,255,255,0.8);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.3rem;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>
 </head>
 <body>
  
    <audio id="bgm" src="assets/audio/bgm.mp3" loop preload="auto"></audio>
    <audio id="sfxCoin" src="assets/audio/coin.wav" preload="auto"></audio>
    <audio id="sfxError" src="assets/audio/error.mp3" preload="auto"></audio>
    <audio id="sfxWin" src="assets/audio/win.wav" preload="auto"></audio>
    
    <div id="splashScreen">
        <video id="introVideo" controls playsinline muted autoplay loop>
            <source src="assets/video/1000007047.mp4" type="video/mp4">
            Seu navegador n√£o suporta o v√≠deo de introdu√ß√£o.
        </video>
        <h1 class="game-title" style="color: white; -webkit-text-fill-color: white;">Tabuleiro Imersivo - Educa√ß√£o Sexual</h1>
        <p>Assista o v√≠deo e clique para come√ßar sua jornada de conhecimento!</p>
        <button id="startButton">üöÄ Come√ßar Jogo</button> 
    </div>

  <div class="bubbles">
   </div>
  <div class="explosion-overlay" id="explosionOverlay"></div>
  <div class="explosion-particles" id="explosionParticles"></div>
  
  <div class="game-container" style="display: none;" id="mainGameContainer">
   <div class="game-header">
    <h1 class="game-title" id="gameTitle">Tabuleiro Imersivo - Educa√ß√£o Sexual</h1>
    <p class="instructions" id="instructionsText">Clique na roleta para jogar! Respostas certas ganham moedas, erradas ganham bombas!</p>
   </div>
   <div class="players-info">
    <div class="player-card player1 active" id="player1Card">
     <div class="player-name" id="player1Name">Jogador 1</div>
     <div>Posi√ß√£o: <span id="player1Position">1</span>/40</div>
     <div class="player-stats">
      <div class="stat coins">ü™ô <span id="player1Coins">0</span></div>
      <div class="stat bombs">üí£ <span id="player1Bombs">0</span></div>
     </div>
    </div>
    <div class="player-card player2" id="player2Card">
     <div class="player-name" id="player2Name">Jogador 2</div>
     <div>Posi√ß√£o: <span id="player2Position">1</span>/40</div>
     <div class="player-stats">
      <div class="stat coins">ü™ô <span id="player2Coins">0</span></div>
      <div class="stat bombs">üí£ <span id="player2Bombs">0</span></div>
     </div>
    </div>
   </div>
   <div class="game-info">
    <div class="turn-indicator" id="turnIndicator">Vez do Jogador 1</div>
   </div>
   <div class="board-container">
    <div class="board" id="gameBoard"></div>
    <div class="roulette-container">
     <div class="roulette" id="roulette" onclick="spinRoulette()">
      <div class="roulette-pointer"></div>
      <div class="roulette-center" id="rouletteResult">üéØ</div>
     </div>
     <div style="text-align: center; color: white; font-weight: bold;">Clique para girar!</div>
    </div>
   </div>
   <div class="legend">
    <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #4299e1, #3182ce);"></div><span>In√≠cio</span></div>
    <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #48bb78, #38a169);"></div><span>Verdadeiro/Falso</span></div>
    <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #ed8936, #dd6b20);"></div><span>V/F Especial</span></div>
    <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #9f7aea, #805ad5);"></div><span>Fim</span></div>
   </div>
  </div><div class="modal" id="questionModal">
   <div class="modal-content">
    <h3 id="modalTitle">Pergunta</h3>
    <p id="modalQuestion"></p>
    <div id="modalButtons" class="modal-buttons"><button class="btn btn-primary" onclick="showAnswer()">Ver Resposta</button></div>
   </div>
  </div><div class="modal" id="answerModal">
   <div class="modal-content">
    <h3 id="answerTitle">Resposta</h3>
    <p id="answerText"></p>
    <div class="modal-buttons"><button class="btn btn-primary" onclick="closeModal()">Continuar</button></div>
   </div>
  </div>
  
  <button id="muteButton" onclick="toggleMute()">üîá</button>
  
  <script src="src/js/game.js"></script> 
  
  <script>
    // ESTAS FUN√á√ïES S√ÉO APENAS AUXILIARES NO DOMContentLoaded E N√ÉO DEVEM ESTAR NO game.js
    
    // Configura√ß√£o e Event Listeners globais
    document.addEventListener('DOMContentLoaded', function() {
        // As fun√ß√µes updatePlayerDisplay e initializeBoard s√£o definidas em game.js

        // 1. Configura o clique do bot√£o de in√≠cio
        document.getElementById('startButton').addEventListener('click', startGame);
        
        // 2. Controle de √°udio do v√≠deo na splash screen
        const introVideo = document.getElementById('introVideo');
        introVideo.addEventListener('click', () => {
            introVideo.muted = !introVideo.muted;
            if (!introVideo.muted) {
                // Se desmutar o v√≠deo, desmuta o jogo e toca o BGM
                if (typeof toggleMute === 'function') {
                    toggleMute(); 
                }
            }
        });

        // 3. Chamada inicial para atualizar o display (se a fun√ß√£o existir)
        if (typeof updatePlayerDisplay === 'function') {
             updatePlayerDisplay();
        }

        // 4. (Opcional) Inicializa o tabuleiro no DOMContentLoaded para que os elementos existam se game.js demorar.
        // J√° que a l√≥gica do startGame faz isso, vamos manter o listener no bot√£o.
    });

    // Esta fun√ß√£o (startGame) DEVE ESTAR definida no game.js, mas a l√≥gica de chamada via click
    // est√° resolvida no DOMContentLoaded. Se precisar da fun√ß√£o no HTML, a vers√£o simplificada √©:
    // function startGame() { 
    //   if (typeof window.startGame === 'function') { 
    //     window.startGame(); 
    //   } 
    // }
  </script>
 </body>
</html>
